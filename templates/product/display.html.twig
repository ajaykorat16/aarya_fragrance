{% extends 'frontbase.html.twig' %}

{% block title %}Products{% endblock %}

{% block body %}

<div class="content-wrapper">
    <div class="container mb-5">
        <h2>Products</h2>
        <div class="row form-group product-chooser">
            {% for image in pagination %}
                <div class="col-4">
                    <div class="product-chooser-item w-100" style="margin-bottom: 15px;">
                        <a href="{{ path('app_product_detail', {'id': image.product.id}) }}"><img class="w-100" src="{{ asset('uploads/' ~ image.imageName)  }}" height="180px"></a>
                        <div class="mt-3 mb-3 text-justify">
                            {% for product in products %}
                                {% if image.product.id == product.id %}
                                    <a class="text-decoration-none text-dark" href="{{ path('app_product_detail', {'id': image.product.id}) }}" style="font-size: 20px;" class="font-weight-bold text-dark" >{{ product.name }}</a>
                                    <div>{{ product.description|length >50 ? product.description|slice(0,150) ~ '...' : product.description}}</div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="row">
            <div class="col">
                <div class="navigation mt-3 d-flex justify-content-center">
                    {{ knp_pagination_render(pagination) }}
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}